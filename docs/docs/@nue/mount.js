var c=Object.create;var{defineProperty:A,getPrototypeOf:h,getOwnPropertyNames:j}=Object;var u=Object.prototype.hasOwnProperty;var x=(i,e,l)=>{l=i!=null?c(h(i)):{};const d=e||!i||!i.__esModule?A(l,"default",{value:i,enumerable:!0}):l;for(let m of j(i))if(!u.call(d,m))A(d,m,{get:()=>i[m],enumerable:!0});return d};var J=(i)=>{return import.meta.require(i)};async function K(i){const e=document.querySelector('[name="nue:components"]')?.getAttribute("content");if(!e)return[];const l=[];for(let d of e.split(" ")){if(d==i)d+=`?${++O}`;const{lib:m}=await import(d);if(m)l.push(...m)}return l}async function a(i){const e=document.querySelectorAll("[island]"),l=e[0]?await K(i):[];if(!l[0])return;const{createApp:d}=await import("./nue.js");for(let m of[...e]){const p=m.getAttribute("island"),r=m.nextElementSibling,b=r?.type=="application/json"?JSON.parse(r.textContent):{},t=l.find((n)=>n.name==p);if(t){const n=d(t,b,l).mount(m);o.push(n)}else console.error("Component not defined:",p)}}async function Q(){o.forEach((i)=>i.unmount()),o=[]}var o=[],O=0;addEventListener("route",a);addEventListener("DOMContentLoaded",a);export{Q as unmountAll,a as mountAll};
